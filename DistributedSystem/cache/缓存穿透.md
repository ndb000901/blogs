# 缓存穿透

**缓存穿透**是指请求的数据既不在缓存中，也不在数据库中。也就是说，缓存系统并没有存储该数据，而数据库也没有相关记录。每次请求都会直接访问数据库，造成缓存系统的作用失效，从而增加数据库的负载，影响系统性能。


## 1. 缓存穿透的影响

- **增加数据库负载**：缓存穿透使得每个请求都直接访问数据库，导致数据库压力增大，可能导致系统性能下降或数据库宕机。
- **降低缓存效率**：缓存是为了减少对数据库的访问次数，但如果数据一直是“穿透”到数据库，则缓存的效果无法体现。
- **可能导致系统崩溃**：在高并发的情况下，缓存穿透可能造成数据库压力过大，最终导致数据库崩溃或系统不可用。

## 2. 解决方案


### 2.1 **空值缓存（缓存空对象）**

**思路**：当查询的数据在数据库中不存在时，可以将查询的空值（如 `null` 或一个特殊的标识符）缓存到缓存中。这样，后续相同的请求就不会再访问数据库，直接从缓存中获取。

**具体做法**：
- 对于查询不到的数据，可以在缓存中设置一个特定的值（如 `null` 或某个特殊标识符）表示该数据不存在。
- 设置这个空值的过期时间较短，避免占用缓存过多的空间。
- 如果缓存中存在空值，表示该数据不存在，直接返回错误或空值。

**优缺点**：
- **优点**：能有效减少对数据库的访问，避免重复查询不存在的数据。
- **缺点**：空值数据占用缓存空间，可能会影响其他正常数据的缓存空间。

### 2.2 **布隆过滤器**

**具体做法**：
- 在请求数据之前，先查询布隆过滤器，如果布隆过滤器中没有记录，则直接返回。
- 如果布隆过滤器中有记录，则继续访问缓存或数据库。


