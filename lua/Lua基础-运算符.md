# Lua基础-运算符

## 1. **算术运算符**

算术运算符用于执行基本的数学运算：

| 运算符 | 描述                  | 示例             |
|--------|-----------------------|------------------|
| `+`    | 加法                  | `a + b`          |
| `-`    | 减法                  | `a - b`          |
| `*`    | 乘法                  | `a * b`          |
| `/`    | 除法                  | `a / b`          |
| `//`   | 整除（去小数部分）    | `a // b`         |
| `%`    | 求余（模运算）        | `a % b`          |
| `^`    | 幂运算（乘方）        | `a ^ b`          |



## 2. **关系运算符**

关系运算符用于比较两个值，返回布尔值 `true` 或 `false`。

| 运算符 | 描述              | 示例               |
|--------|-------------------|--------------------|
| `==`   | 等于              | `a == b`           |
| `~=`   | 不等于            | `a ~= b`           |
| `<`    | 小于              | `a < b`            |
| `>`    | 大于              | `a > b`            |
| `<=`   | 小于或等于        | `a <= b`           |
| `>=`   | 大于或等于        | `a >= b`           |


## 3. **逻辑运算符**

逻辑运算符用于进行逻辑运算，返回布尔值 `true` 或 `false`。

| 运算符 | 描述              | 示例             |
|--------|-------------------|------------------|
| `and`  | 逻辑与（两个条件都为真时结果为真） | `a and b`       |
| `or`   | 逻辑或（两个条件中一个为真时结果为真）| `a or b`        |
| `not`  | 逻辑非（取反）        | `not a`          |

---

## 4. **连接运算符**

连接运算符用于连接字符串。

| 运算符 | 描述       | 示例               |
|--------|------------|--------------------|
| `..`   | 字符串连接 | `"Hello" .. " World"` |



## 5. **位运算符**


| 运算符  | 描述                      | 示例       |
|------|---------------------------|----------|
| `&`  | 按位与                    | `a & b`  |
| `\|` | 按位或                    | `a \| b` |
| `~`  | 按位异或                  | `a ~ b`  |
| `<<` | 按位左移                  | `a << 2` |
| `>>` | 按位右移                  | `a >> 2` |
| `~`  | 按位取反（取反每一位）    | `~a`     |



## 6. **表运算符**

Lua 中的表（table）是其最重要的数据结构之一，提供了以下操作：

| 运算符 | 描述               | 示例            |
|--------|--------------------|-----------------|
| `[]`   | 用于访问表的元素    | `table[index]`  |
| `.`    | 用于访问表的字段    | `table.field`   |


## 7. **元运算符**

Lua 允许用户为表定义元方法，通过元方法实现自定义的运算符行为。常见的元运算符有：

| 运算符      | 描述                  | 示例                    |
|-------------|-----------------------|-------------------------|
| `__add`     | 重载加法运算符         | `a + b`                 |
| `__sub`     | 重载减法运算符         | `a - b`                 |
| `__mul`     | 重载乘法运算符         | `a * b`                 |
| `__div`     | 重载除法运算符         | `a / b`                 |
| `__eq`      | 重载等于运算符         | `a == b`                |
| `__lt`      | 重载小于运算符         | `a < b`                 |
| `__index`   | 用于访问表的元素      | `table[index]`          |

### 示例：

```lua
local point = {}
point.__index = point

function point:new(x, y)
    local obj = setmetatable({}, point)
    obj.x = x
    obj.y = y
    return obj
end

function point:__add(other)
    return point:new(self.x + other.x, self.y + other.y)
end

local p1 = point:new(1, 2)
local p2 = point:new(3, 4)

local p3 = p1 + p2  -- 调用 __add 元方法
print(p3.x, p3.y)  -- 输出 4 6
```

---
