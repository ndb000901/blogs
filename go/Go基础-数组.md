# Go基础-数组

Go 中的数组（`array`）是**固定长度的同类型元素集合**，是最基础的数据结构之一。在性能要求高的地方，它的表现甚至优于 slice。

---

## 1. 数组声明与初始化

### 声明数组

```go
var a [5]int        // 声明一个包含5个int的数组
var b = [3]string{"Go", "Rust", "C"} // 自动推断类型
```

### 自动推断长度

```go
c := [...]int{1, 2, 3, 4} // 编译器自动推断长度为4
```

### 指定部分索引初始化

```go
arr := [5]int{1: 10, 3: 30} // [0 10 0 30 0]
```

---

## 2. 数组访问

```go
a := [3]int{1, 2, 3}
fmt.Println(a[0]) // 访问第一个元素
a[1] = 10         // 修改第二个元素
```

如果访问越界（例如 `a[3]`），会引发 **panic**。

---

## 3. 数组是值类型（重点）

```go
a := [3]int{1, 2, 3}
b := a        // b 是 a 的副本，修改 b 不影响 a
b[0] = 100
fmt.Println(a) // [1 2 3]
```

如果你想修改原数组，需要使用指针或切片。

---

## 4. 指针数组 vs 数组指针

| 类型           | 含义                        |
|----------------|-----------------------------|
| `[3]*int`      | 指针数组，每个元素是指针     |
| `*[3]int`      | 数组指针，指向一个数组       |

```go
var arr = [3]int{1, 2, 3}
var p *[3]int = &arr
fmt.Println((*p)[0])
```

---

## 5. 遍历数组

```go
a := [3]string{"go", "rust", "c"}
for i, v := range a {
    fmt.Println(i, v)
}
```

或者传统 for：

```go
for i := 0; i < len(a); i++ {
    fmt.Println(i, a[i])
}
```

---

## 6. 数组作为函数参数（值拷贝）

```go
func modify(arr [3]int) {
    arr[0] = 100
}

func main() {
    a := [3]int{1, 2, 3}
    modify(a)
    fmt.Println(a) // [1 2 3]，原数组未变
}
```

想修改原始数组，用指针或 slice：

```go
func modify(arr *[3]int) {
    arr[0] = 100
}
```

---


