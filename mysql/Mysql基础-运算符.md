# Mysql基础-运算符

## 1. 算术运算符（Arithmetic Operators）

| 运算符 | 含义         | 示例              | 说明                         |
|--------|--------------|-------------------|------------------------------|
| `+`    | 加           | `1 + 2`           | 两数相加                     |
| `-`    | 减           | `5 - 3`           | 两数相减                     |
| `*`    | 乘           | `2 * 4`           | 两数相乘                     |
| `/`    | 除           | `10 / 2`          | 精确除法，可能为小数         |
| `DIV`  | 整除         | `10 DIV 3`        | 结果为整数：`3`              |
| `%`    | 取模         | `10 % 3`          | 结果为余数：`1`              |
| `MOD`  | 取模（同上） | `MOD(10, 3)`      | 与 `%` 效果相同              |

---

## 2. 比较运算符（Comparison Operators）

| 运算符  | 含义             | 示例                  | 说明                                     |
|---------|------------------|-----------------------|------------------------------------------|
| `=`     | 等于             | `a = b`               | `NULL = NULL` 结果为 `NULL`，不是 true   |
| `<=>`   | NULL 安全等于     | `a <=> b`             | `NULL <=> NULL` 结果为 `true`         |
| `!=`    | 不等于           | `a != b`              | 或写成 `<>`                             |
| `<>`    | 不等于           | `a <> b`              | 与 `!=` 等价                            |
| `>`     | 大于             | `a > b`               |                                        |
| `<`     | 小于             | `a < b`               |                                        |
| `>=`    | 大于等于         | `a >= b`              |                                        |
| `<=`    | 小于等于         | `a <= b`              |                                        |
| `BETWEEN a AND b` | 是否在区间内 | `score BETWEEN 60 AND 100` | 包括边界值                              |
| `IN (...)` | 是否属于集合    | `id IN (1,2,3)`       | NULL 会被忽略                           |
| `IS NULL` / `IS NOT NULL` | 是否为 NULL       | `col IS NULL`        |                                            |
| `IS TRUE` / `IS FALSE`     | 判断布尔值           | `flag IS TRUE`       | 新语法，MySQL 8 支持更好                   |

---

## 3. 逻辑运算符（Logical Operators）

| 运算符 | 含义       | 示例                         | 说明                        |
|--------|------------|------------------------------|-----------------------------|
| `AND`  | 且         | `a = 1 AND b = 2`            | 两个条件都为真             |
| `OR`   | 或         | `a = 1 OR b = 2`             | 只要一个条件为真即可       |
| `NOT`  | 非         | `NOT a = 1` 或 `a != 1`      | 否定条件                   |
| `XOR`  | 异或       | `a XOR b`                    | 仅当一个条件为真才为真     |

**注意**：MySQL 的逻辑布尔值，实际上用的是整数：`TRUE = 1`，`FALSE = 0`。

---

## 4. 位运算符（Bitwise Operators）

| 运算符 | 含义        | 示例             | 说明                            |
|--------|-------------|------------------|---------------------------------|
| `&`    | 按位与      | `5 & 3` = `1`     | 0101 & 0011 = 0001              |
| `\|`    | 按位或      | `5 \| 3` = `7`     | 0101 \| 0011 = 0111             |
| `^`    | 按位异或    | `5 ^ 3` = `6`     | 0101 ^ 0011 = 0110              |
| `~`    | 按位取反    | `~5`              | -6（有符号补码）                |
| `<<`   | 左移        | `1 << 2` = `4`    | 相当于乘以 2 的 2 次方          |
| `>>`   | 右移        | `4 >> 1` = `2`    | 相当于除以 2 的 1 次方          |

MySQL 的位运算主要用于权限掩码、状态位场景，比如 `FIND_IN_SET()` 替代 `&` 做集合判断。

---

## 5. 字符串运算符

| 运算符     | 含义           | 示例                            | 说明                          |
|------------|----------------|---------------------------------|-------------------------------|
| `CONCAT()` | 字符串拼接     | `CONCAT(first_name, ' ', last_name)` | NULL 参与则结果为 NULL        |
| `LIKE`     | 模糊匹配       | `name LIKE 'A%'`                | `%` 任意长度，`_` 单个字符    |
| `NOT LIKE` | 反向匹配       | `name NOT LIKE '%admin%'`       |                               |
| `REGEXP`   | 正则匹配       | `email REGEXP '^[a-z]+@'`       | 支持标准 POSIX 表达式         |
| `RLIKE`    | `REGEXP` 的别名 | 同上                            |                               |

---

## 6. 赋值运算符

| 运算符 | 含义           | 示例                  | 说明                  |
|--------|----------------|-----------------------|-----------------------|
| `=`    | 赋值           | `SET @x = 5;`         | 赋值操作              |
| `:=`   | 精确赋值       | `SELECT @x := 10;`    | 推荐用于 SQL 中变量赋值 |
| `SET`  | 设置变量       | `SET @total = 0;`     | 适用于会话变量         |

---

## 7. JSON 运算符（MySQL 5.7+）

| 运算符     | 含义                   | 示例                           |
|------------|------------------------|--------------------------------|
| `->`       | 提取 JSON 对象         | `json_col -> '$.name'`         |
| `->>`      | 提取 JSON 并转字符串   | `json_col ->> '$.name'`        |
| `JSON_CONTAINS()` | 检查包含关系    | `JSON_CONTAINS(json_col, '1', '$.ids')` |
| `JSON_EXTRACT()`  | 同 `->`          | 函数形式提取                   |

---


