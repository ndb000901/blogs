# Mysql基础-数据类型


---

## 1. 数值类型（Numeric Types）

### 1.1 整数类型（整数默认是有符号的，可加 `UNSIGNED` 表示无符号）

| 类型       | 存储空间 | 有符号范围                     | 无符号范围                   |
|------------|-----------|---------------------------------|------------------------------|
| TINYINT    | 1 字节    | -128 到 127                     | 0 到 255                     |
| SMALLINT   | 2 字节    | -32,768 到 32,767               | 0 到 65,535                  |
| MEDIUMINT  | 3 字节    | -8,388,608 到 8,388,607         | 0 到 16,777,215              |
| INT/INTEGER| 4 字节    | -2,147,483,648 到 2,147,483,647 | 0 到 4,294,967,295           |
| BIGINT     | 8 字节    | -2^63 到 2^63-1                 | 0 到 2^64-1                  |

**注意**：
- `INT(11)` 的括号数字不影响存储大小，仅影响**`ZEROFILL` 时的显示宽度**。
- 如果需要更大数值计算（比如财务），推荐使用 `DECIMAL`。

---

### 1.2 小数类型

| 类型     | 存储         | 用途                             |
|----------|--------------|----------------------------------|
| DECIMAL(M,D) | 变长      | 精确小数，如财务数据              |
| FLOAT(M,D)   | 4 字节     | 单精度浮点，近似计算              |
| DOUBLE(M,D)  | 8 字节     | 双精度浮点，近似计算              |

**区别**：
- `FLOAT/DOUBLE` 是 **近似值**，计算速度快，可能造成精度损失。
- `DECIMAL` 是 **精确值**，采用字符串方式存储，性能略差但适合财务。

---

## 2. 字符串类型（String Types）

### 2.1 固定/可变长度字符串

| 类型   | 存储       | 最大长度           | 特点                       |
|--------|------------|--------------------|----------------------------|
| CHAR(N)| 定长       | 最多 255 字符      | 不足自动填充空格（定长）  |
| VARCHAR(N)| 变长    | 最多 65535 字节（受字符集影响）| 节省空间，推荐主流使用方式 |

**注意事项**：
- `VARCHAR(N)` 中 N 是**字符数**，不是字节数。
- 每条记录最大不能超过 65535 字节，包括 row header + 其他字段，需注意长字段影响。

---

### 2.2 Text 类型（大文本）

| 类型       | 最大长度    | 存储方式          |
|------------|-------------|-------------------|
| TINYTEXT   | 255 B       | 单独存储          |
| TEXT       | 64 KB       | 单独存储，常用    |
| MEDIUMTEXT | 16 MB       | 大型文本字段      |
| LONGTEXT   | 4 GB        | 非常大文本         |

**适用场景**：
- 如果字段内容很长，如文章正文，建议用 `TEXT`，**不适合加索引或排序**。

---

### 2.3 BLOB 类型（二进制大对象，类似 TEXT）

| 类型       | 最大长度 |
|------------|-----------|
| TINYBLOB   | 255 B     |
| BLOB       | 64 KB     |
| MEDIUMBLOB | 16 MB     |
| LONGBLOB   | 4 GB      |

---

## 3. 日期与时间类型（Date & Time Types）

| 类型       | 范围                       | 特点                                       |
|------------|----------------------------|--------------------------------------------|
| DATE       | 1000-01-01 到 9999-12-31   | 仅日期                                     |
| DATETIME   | 同上 + 时间，精度到秒或微秒 | 最常用，推荐                               |
| TIMESTAMP  | 1970-01-01 到 2038-01-19   | 会自动与 UTC 转换，与时区相关              |
| TIME       | -838:59:59 到 838:59:59    | 表示时间段                                 |
| YEAR       | 1901 到 2155               | 很少用                                     |

**提示**：
- `DATETIME` 是**纯值**，不受时区影响；
- `TIMESTAMP` 是 **Unix 时间戳**，**自动处理时区转换**；
- 两者对比：如果你不想处理时区，就用 `DATETIME`。

---

## 4. JSON 类型

| 类型   | 特点                            |
|--------|---------------------------------|
| JSON   | MySQL 5.7+ 支持，MySQL 8 更强   |
|        | 会验证格式、自动压缩存储        |
|        | 支持 JSON 查询、路径提取、修改 |

**优势**：
- 比 TEXT 强在可以直接执行 `JSON_EXTRACT()` 等函数进行字段级别操作。
- 适合结构稍微灵活的业务，如“设备属性”、“扩展字段”。

---

## 5. 枚举与集合类型（Enum & Set）

| 类型   | 特点                        |
|--------|-----------------------------|
| ENUM   | 单选字符串集合（最多 65535 个） |
| SET    | 多选集合                    |

**建议**：
- ENUM 对于状态字段非常合适（如 'pending'，'success'）。
- SET 虽然支持多选，但不常用，且维护难度较高。

---

## 6. 空间类型（GIS Types）

MySQL 8 中支持更强大的 **空间索引和空间类型**（如 `GEOMETRY`、`POINT`、`LINESTRING`、`POLYGON` 等），适用于地理信息系统，但要配合 SRID 使用，如：

```sql
CREATE TABLE places (
    id INT,
    location POINT NOT NULL SRID 4326,
    SPATIAL INDEX(location)
);
```

---

