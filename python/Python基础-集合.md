# Python基础-集合



## 1. 集合`set`

集合是 **无序、不重复、可变** 的元素集合。它类似于数学中的集合，支持交集、并集、差集等运算。

```python
s = {1, 2, 3}
```

> 集合的元素必须是 **不可变类型**（如数字、字符串、元组）。

---

## 2. 集合的定义

```python
# 1. 使用花括号
s1 = {1, 2, 3}

# 2. 使用 set() 构造函数
s2 = set([1, 2, 2, 3])  # 自动去重 -> {1, 2, 3}

# 3. 空集合只能用 set()，不能用 {}，因为 {} 是空字典
empty_set = set()
```

---

## 3. 集合的特点

| 特性         | 描述                                                |
|--------------|-----------------------------------------------------|
| 无序         | 不保证元素的顺序                                    |
| 元素唯一     | 自动去重                                            |
| 可变类型     | 可添加、删除元素，但元素本身必须是不可变的          |
| 支持集合运算 | 可进行并集、交集、差集、对称差集等集合操作          |

---

## 4. 常用操作

### 添加元素

```python
s = {1, 2}
s.add(3)           # 添加单个元素
s.update([4, 5])   # 添加多个元素，可是列表、元组、集合等
```

### 删除元素

```python
s.remove(2)        # 移除指定元素，不存在则抛异常
s.discard(10)      # 安全删除，不存在也不会抛异常
s.pop()            # 随机移除一个元素（因为无序）
s.clear()          # 清空集合
```

---

## 5. 集合的集合运算

```python
a = {1, 2, 3}
b = {2, 3, 4}

a | b   # 并集 -> {1, 2, 3, 4}
a & b   # 交集 -> {2, 3}
a - b   # 差集 -> {1}
a ^ b   # 对称差集（异或）-> {1, 4}
```

也可用方法调用：

```python
a.union(b)
a.intersection(b)
a.difference(b)
a.symmetric_difference(b)
```

---

## 6. 集合推导式（set comprehension）

```python
squares = {x * x for x in range(5)}  # {0, 1, 4, 9, 16}
```

> 与列表推导式一样，但用 `{}` 包裹。

---

## 7.集合的方法总结

| 方法                            | 说明                             |
|---------------------------------|----------------------------------|
| `add(elem)`                     | 添加元素                         |
| `update(iterable)`              | 添加多个元素                     |
| `remove(elem)`                  | 删除指定元素，不存在抛异常       |
| `discard(elem)`                 | 安全删除                         |
| `pop()`                         | 随机移除一个元素                 |
| `clear()`                       | 清空集合                         |
| `union(other)` 或 `|`          | 并集                             |
| `intersection(other)` 或 `&`   | 交集                             |
| `difference(other)` 或 `-`     | 差集                             |
| `symmetric_difference(other)` 或 `^` | 对称差集                    |
| `issubset(other)`               | 是否是子集                       |
| `issuperset(other)`             | 是否是超集                       |
| `isdisjoint(other)`             | 是否无交集                       |
| `copy()`                        | 浅拷贝                           |

---

## 8. 不可变集合（frozenset）

```python
fs = frozenset([1, 2, 3])
# fs.add(4) 会报错，因为它是不可变的
```

> 适用于需要 **哈希集合** 的场景，例如将集合作为字典的 key、放入 set 中。

---
