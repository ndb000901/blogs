# 对称加密

对称加密（Symmetric Encryption）是一种加密方法，它使用 **相同的密钥** 进行 **加密和解密**。  
即：
- **加密**：明文 + 密钥 → 密文  
- **解密**：密文 + 相同密钥 → 明文  

### **特点**
✅ **速度快**：计算开销小，适合大规模数据加密  
✅ **算法简单**：硬件和软件实现容易  
❌ **密钥管理难**：必须安全地共享密钥，密钥泄露后通信不安全  

---

## **1. 对称加密 vs. 非对称加密**
| **特性** | **对称加密** | **非对称加密** |
|----------|--------------|--------------|
| **密钥数量** | **单一密钥** | **公钥 + 私钥** |
| **速度** | **快** | **慢** |
| **安全性** | **较低**（密钥泄露风险） | **较高**（公钥不可推导私钥） |
| **适用场景** | **大数据传输**（文件加密、数据库加密） | **身份认证、密钥交换** |

**结论**：
- **对称加密** 适用于 **数据加密**（如 AES 保护硬盘、数据库）。  
- **非对称加密** 适用于 **密钥交换**（如 HTTPS 使用 RSA 交换密钥）。  

---

## **2. 对称加密的工作原理**
假设 Alice 需要给 Bob 发送一条加密信息：

### **（1）加密过程**
1. Alice 选择一个密钥 `K`（必须安全共享）。  
2. Alice 使用 `K` **加密明文** `M`，生成密文 `C`：
```text
C = Encrypt(M, K)
```
3. Alice 发送 `C` 给 Bob。

### **（2）解密过程**
1. Bob **获取密钥 `K`**（必须事先共享）。  
2. Bob **用 `K` 解密 `C`**，恢复明文 `M`：
```text
M = Decrypt(C, K)
```

**安全性**：如果 `K` 被攻击者窃取，他可以解密 `C`，获取 `M`。

---

## **3. 常见的对称加密算法**
### **3.1 AES（高级加密标准）**
**特点**：
- 目前最安全的对称加密算法，被广泛用于 **HTTPS、VPN、文件加密**。
- **密钥长度**：128/192/256 位，密钥越长，安全性越高。  

**加密过程**：
- 采用 **分组加密（Block Cipher）**，每次处理 128 位数据。  
- 主要操作：
  - **字节代换（SubBytes）**
  - **行移位（ShiftRows）**
  - **列混淆（MixColumns）**
  - **轮密钥加（AddRoundKey）**
  
**优缺点**：
✅ **安全性极高**，抗量子攻击能力较强  
✅ **支持硬件加速（AES-NI 指令集）**，速度快  
❌ **实现较复杂**  

---

### **3.2 DES（数据加密标准）**
**特点**：
- 早期的标准（1977 年），**已被破解，不推荐使用**。  
- **密钥长度**：56 位，安全性不足。  

**替代方案**：
- **3DES（Triple DES）**：对数据 **执行 3 次 DES 加密**，更安全但速度慢。  

**优缺点**：
✅ **历史悠久**，很多老系统仍然支持  
❌ **密钥长度太短，容易被暴力破解**（现代计算机可在 24 小时内破解）  

---

### **3.3 ChaCha20**
**特点**：
- 现代 **流加密（Stream Cipher）** 算法，比 AES 更适合 **移动设备**。  
- **密钥长度**：256 位，安全性极高。  

**优缺点**：
✅ **速度快**（适用于低功耗设备，如 IoT 设备）  
✅ **抗时序攻击**，避免 AES 可能的侧信道攻击  
❌ **不适用于所有硬件**（部分硬件仅优化 AES）  

**应用**：
- **TLS 1.3、Google QUIC 协议**（加快 HTTPS 访问速度）  
- **WireGuard VPN**  

---


## **4. 对称加密的工作模式**
对称加密算法通常采用 **分组加密模式** 来提高安全性：

| **模式** | **全称** | **特点** |
|---------|---------|---------|
| **ECB** | 电子密码本模式 | 不安全，相同明文产生相同密文，容易被攻击 |
| **CBC** | 密码分组链接模式 | 需要初始化向量（IV），增强安全性 |
| **CFB** | 密码反馈模式 | 适用于流加密 |
| **OFB** | 输出反馈模式 | 适用于无线通信 |
| **CTR** | 计数器模式 | 并行加密，速度快 |

**推荐**：
- **AES-CBC**（适用于数据存储）  
- **AES-GCM**（适用于 HTTPS）  


