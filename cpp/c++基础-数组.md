# c++基础-数组

数组是**相同类型元素**的有序集合，**内存上连续排列**。  
每个元素通过**索引（从0开始）** 访问。

---

## 1. 一维数组定义与初始化

### 1.1 定义语法：

```cpp
类型 数组名[大小];
```

### 1.2 初始化方式：

| 方式 | 示例 | 说明 |
|------|------|------|
| 手动 | `int arr[3] = {1, 2, 3};` | 指定大小与元素 |
| 自动推导 | `int arr[] = {1, 2, 3};` | 编译器自动推导大小为3 |
| 默认初始化 | `int arr[5] = {1};` | 第一个为1，其余为0 |

### 1.3 访问元素：

```cpp
arr[0] = 10;
std::cout << arr[1];
```

---

## 2. 二维数组

### 2.1 定义

```cpp
int matrix[2][3]; // 2行3列
```

### 2.2 初始化

```cpp
int matrix[2][3] = {
    {1, 2, 3},
    {4, 5, 6}
};
```

### 2.3 访问

```cpp
matrix[1][2] = 10; // 第2行第3列
```

---

## 3. 字符数组 vs 字符串

### 字符数组（C风格）

```cpp
char name[] = "Tom";
```

- 实际上是：`{'T', 'o', 'm', '\0'}`（以 `\0` 结尾）
- 可使用 `<cstring>` 提供的函数：如 `strlen(name)`、`strcpy`、`strcmp` 等

### 与 `std::string` 对比：

| 特性 | 字符数组 | `std::string` |
|------|----------|----------------|
| 可变长度 | 否     | 是             |
| 安全性   | 低     | 高             |
| 功能     | 基础字符串操作 | 丰富成员函数 |

---

## 4. 遍历数组

### 4.1 for 循环

```cpp
for (int i = 0; i < 5; ++i) {
    std::cout << arr[i] << " ";
}
```

### 4.2 范围for（C++11）

```cpp
for (int val : arr) {
    std::cout << val << " ";
}
```

范围for 不支持多维数组的嵌套，需要嵌套使用两个循环。

---

## 5. 数组与指针

| 表达式         | 含义                    |
|----------------|-------------------------|
| `arr`          | 数组首元素地址           |
| `*(arr + i)`   | 等价于 `arr[i]`         |
| `arr + 1`      | 指向第二个元素          |

### 示例：

```cpp
int arr[3] = {10, 20, 30};
int* p = arr;
std::cout << *(p + 1); // 20
```

---

## 6. 数组大小与限制

- 静态数组大小需为**编译期常量**
```cpp
const int N = 10;
int arr[N]; // OK
```


## 7. 数组作为函数参数

```cpp
void print(int arr[], int size) {
    for (int i = 0; i < size; ++i)
        std::cout << arr[i];
}
```

等价于 `int* arr`，因为数组传参退化为指针。


